/*! @name videojs-offset @version 2.1.3 @license MIT */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("video.js")):"function"==typeof define&&define.amd?define(["video.js"],e):(t=t||self).videojsOffset=e(t.videojs)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={},r=t.registerPlugin||t.plugin,i=function t(){var e=this,r=this.currentTime();r<0&&(this.currentTime(0),this.play()),this._offsetEnd>0&&r>this._offsetEnd-this._offsetStart&&(this.off("timeupdate",t),this.pause(),this.one("play",function(){e.on("timeupdate",t)}),this._restartBeginning?(this.trigger("ended"),this.trigger("loadstart"),this.currentTime(0)):(this.one("seeking",function(){e.trigger("ended")}),this.currentTime(this._offsetEnd-this._offsetStart),this.one("play",function(){e.currentTime(0)})))},n=function(r){var n=this;r=r||{};var s=this.constructor;this._offsetStart=parseFloat(r.start||"0"),this._offsetEnd=parseFloat(r.end||"0"),this._restartBeginning=r.restart_beginning||!1,s.__super__&&s.__super__.__offsetInit||(s.__super__={__offsetInit:!0,duration:s.prototype.duration,currentTime:s.prototype.currentTime,bufferedPercent:s.prototype.bufferedPercent,remainingTime:s.prototype.remainingTime,buffered:s.prototype.buffered},s.prototype.duration=function(){return void 0!==this._offsetEnd&&void 0!==this._offsetStart?this._offsetEnd>0?this._offsetEnd-this._offsetStart:s.__super__.duration.apply(this,arguments)-this._offsetStart:s.__super__.duration.apply(this,arguments)},s.prototype.currentTime=function(t){if(void 0!==t)return void 0!==this._offsetStart?s.__super__.currentTime.call(this,t+this._offsetStart):s.__super__.currentTime.call(this,t);if(void 0!==this._offsetStart){var e=s.__super__.currentTime.apply(this)-this._offsetStart;return this.getCache().currentTime=e,e}return s.__super__.currentTime.apply(this)},s.prototype.remainingTime=function(){return this.duration()-this.currentTime()},s.prototype.startOffset=function(){return this._offsetStart},s.prototype.endOffset=function(){return this._offsetEnd>0?this._offsetEnd:this.duration()},s.prototype.buffered=function(){for(var e=s.__super__.buffered.call(this),r=[],i=0;i<e.length;i++)r[i]=[Math.max(0,e.start(i)-this._offsetStart),Math.min(Math.max(0,e.end(i)-this._offsetStart),this.duration())];return t.createTimeRanges(r)}),this.ready(function(){var s;s=n,t.mergeOptions(e,r),s.one("play",function(){s.on("timeupdate",i)})})};return r("offset",n),n.VERSION="2.1.3",n});
